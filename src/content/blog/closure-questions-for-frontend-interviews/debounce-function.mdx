---
seoMetaData:
  title: 'Implement a debounce function'
  description: 'Implement a debounce by using Javascript closures.'
  ogImage: ''
  ogImageAlt: 'Implement a debounce by using Javascript closures.'
title: 'Implement a debounce function'
publishedDate: 2024-03-26
blogMeta:
  type: standalone
---

## What is debouncing?

**Debouncing** is a technique used to control how many times we allow a function to be executed over time.

When a JavaScript function is debounced with a wait time of X milliseconds, it must wait until after X milliseconds have elapsed since the debounced function was last called.

From my personal experience, the implementation of debouncing with following variations are usally asked:

{/* Basic Implementation */}

<section>

## 1. Basic debouncing function

```js
export default function debounce(func, wait) {
	let timerId = null;

	function debouncedFnImpl(...args) {
		const thisArg = this;

		if (timerId) {
			clearTimeout(timerId);
		}

		timerId = setTimeout(() => {
			timerId = null;
			func.call(thisArg, ...args);
		}, wait);
	}

	return debouncedFnImpl;
}

// Usage of debounce function
const debouncedFn = debounce(() => {
	console.log('I am called');
}, 1000);

const input = document.getElementById('input');
input.addEventListener('change', debouncedFn);
```

</section>

{/* ======= Immediate Flag Variation */}

<section>

<SubHeading>Variation: With Immediate Flag</SubHeading>
## 2. Debounce Variation with immediate flag

Immediate flag denotes that the function for the first time must be invoked immediately without any delay. For further invocations, it follows same rules as mentioned above (basic implementation).

```js
export default function debounce(func, wait, immediate) {
	let timerId = null;
	let hasBeenCalledImmediately = false;

	function debouncedFnImpl(...args) {
		const thisArg = this;

		if (timerId) {
			clearTimeout(timerId);
		}

		// Check for the `immediate` flag and invoke immediately
		if (immediate) {
			hasBeenCalledImmediately = true;
			func.call(thisArg, ...args);
		}

		timerId = setTimeout(() => {
			timerId = null;
			func.call(thisArg, ...args);
		}, wait);
	}

	return debouncedFnImpl;
}

// Usage with immediate flag
const debouncedFn = debounce(
	(e) => {
		console.log(e.target.value);
	},
	1000,
	true
);

const input = document.getElementById('input');
input.addEventListener('change', debouncedFn);
```

</section>
